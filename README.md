
# 作业系统优化版配置指南

本系统已实现 **Notion 风格 UI**、**实时 Markdown 键入转换** 及 **深色模式**。

## 1. 颜色配置 (theme-config.json)

您可以直接修改 `theme-config.json` 来调整视觉风格：

| 键名            | 说明                                                       |
| :-------------- | :--------------------------------------------------------- |
| `primary`       | 品牌主色（亮色模式默认为黄色，深色模式建议改为蓝色或亮色） |
| `bgMain`        | 页面背景色                                                 |
| `bgCard`        | 卡片/编辑器背景色                                          |
| `textMain`      | 主要文字颜色                                               |
| `textSecondary` | 次要/辅助文字颜色                                          |
| `borderColor`   | 边框与分割线颜色                                           |

## 2. 核心功能优化 (New Features)

本次迭代针对作业填写与提交体验进行了模块化升级：

### 🧩 顶部导航与信息区
- **Tab 分页设计**: 
  - **作业规则**: 集成"点击复制链接"功能，方便 PC 端快速打开。
  - **历史作业**: 支持查看历史提交时间、得分及详情入口。
  - **提示**: 防丢失机制提醒。
- **导航栏优化**: "暂存"按钮移至顶部右侧，新增"深色模式"切换开关，支持头部常驻。

### 📝 沉浸式编辑器
- **图片智能缩放**: 插入图片后支持点击选中，通过拖拽四个角自由调整大小。
- **全屏专注模式**: 工具栏增加全屏按钮，提供无干扰写作环境。
- **排版优化**: 作业题目与回答区域分开，题目左对齐展示，工具栏功能更丰富（H1-H3、高亮、列表等）。
- **Markdown 即时渲染**: 支持 `# 标题`、`*列表*`、`**加粗**` 等快捷语法输入。

### 📤 提交与反馈流
- **闭环体验**: 点击"提交"按钮后自动跳转至 **作业完成页 (Homework Done)**。
- **结果展示**: 完成页包含得分展示、"优秀作业"盖章动画、标准答案对照及班主任个性化点评。
- **互动组件**: 优化的课程满意度滑块与打分组件。

## 3. 文件结构与环境说明

### 文件用途
- **`PRD/`**: 包含原始设计文档、API 接口说明及需求规划。
- **`index.html` (本地预览版)**: 
  - **用途**: 用于快速开发和 UI 调试，无需构建工具即可直接双击运行。
  - **技术栈**: 原生 HTML/CSS/JS (Vanilla JS)。
  - **依赖**: 仅依赖 `marked.js` (Markdown 解析) 和 `iconfont` (图标)。
  - **特点**: 数据为静态 Mock 数据，逻辑已剥离为 `script.js` 和 `index.css`。
- **`online.html` (生产部署版)**:
  - **用途**: 实际线上运行的入口文件 (待同步更新)。
  - **技术栈**: 集成现有业务系统 (Vue.js + 依赖包)。
  - **依赖**: 
    - 基础库: `marked.js`, `iconfont`
    - **生产环境特有依赖**: 微信 JSBridge 适配代码、业务系统核心 Chunks (`vue`, `lodash`, `main.js` 等 CDN 资源)。
  - **注意**: 
    - 当前文件引用的 `.tsx` 脚本在浏览器端无法直接运行。
    - 部署前**必须**将 `index.html` 中的 `script.js` 和 `index.css` 逻辑同步过来，替换掉 `.tsx` 引用。
- **`offline.html`**: 废弃或临时文件，后续可移除。

## 4. 开发说明
核心逻辑位于 `script.js` (从 `index.tsx` 转译而来的原生 JS)，它实现了：
1. **Markdown 解析**: 监听输入并实时转换。
2. **主题切换**: 动态修改 CSS 变量。
3. **UI 交互**: Tab 切换、评分组件等。

开发时建议在 `index.html` 中调试 UI，完成后将 `index.css` 和 `script.js` 的逻辑同步至生产环境代码中。

