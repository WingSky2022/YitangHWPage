<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"> -->
<meta name="viewport" content="user-scalable=0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache,no-store,must-revalidate">
<meta http-equiv="Expires" content="0">
<meta name="Description" content="ä¸€å ‚ - ä»¥å¤ªæ——ä¸‹ï¼Œç²¾å“åˆ›ä¸šè¯¾ç¨‹å“ç‰Œ">
<meta name="Keywords" content="åˆ›ä¸šè¯¾,ä¸€å ‚,ä»¥å¤ª,åˆ›ä¸šæ–¹å‘,åˆ›ä¸šèèµ„">
<title>ä¸€å ‚åˆ›ä¸šè¯¾ - ä½œä¸šç³»ç»Ÿ</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" href="https://cdn.yitang.top/iconfont/20220717/iconfont.css">
<!-- å¼•å…¥ marked.js ç”¨äº Markdown è§£æ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<!-- å¼•å…¥ Quill ç¼–è¾‘å™¨ CSS -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<!-- å¼•å…¥ Quill ç¼–è¾‘å™¨ JS -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<style>
/* ä¼˜åŒ–ï¼šç²¾ç®€CSSå˜é‡ç³»ç»Ÿ - äº®è‰²ä¸»é¢˜ */
:root {
  /* åŸºç¡€é¢œè‰² */
  --color-primary: #fad200;
  --color-primary-rgb: 250, 210, 0;
  --color-bg: #ffffff;
  --color-text: #111111;
  --color-border: #e0e0e0;

  /* è®¡ç®—å¾—å‡ºçš„é¢œè‰² */
  --color-primary-hover: hsl(50, 100%, 42%);
  --color-primary-light: hsla(50, 100%, 97%, 0.5);
  --color-bg-secondary: hsl(0, 0%, 97%);
  --color-bg-tertiary: hsl(0, 0%, 95%);
  --color-text-secondary: hsl(0, 0%, 40%);
  --color-text-tertiary: hsl(0, 0%, 60%);
  --color-text-placeholder: hsl(0, 0%, 73%);

  /* ç³»ç»Ÿå˜é‡ */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", sans-serif;
  --shadow-base: rgba(0, 0, 0, 0.07);
  --radius-base: 8px;
}

/* æ·±è‰²ä¸»é¢˜ - ä»…è¦†ç›–å¿…è¦çš„å˜é‡ */
[data-theme="dark"] {
  /* åŸºç¡€é¢œè‰² */
  --color-primary: #4a90e2;
  --color-primary-rgb: 74, 144, 226;
  --color-bg: #1a1a1a;
  --color-text: #e0e0e0;
  --color-border: #404040;
  --shadow-base: rgba(0, 0, 0, 0.3);

  /* è®¡ç®—å¾—å‡ºçš„é¢œè‰²ä¼šè‡ªåŠ¨æ›´æ–° */
}

/* ä½¿ç”¨CSSè‡ªå®šä¹‰å±æ€§åˆ›å»ºå®Œæ•´çš„å˜é‡é›† */
:root {
  /* é—´è· */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* åœ†è§’ */
  --radius-sm: 4px;
  --radius: var(--radius-base);
  --radius-lg: 12px;
  --radius-xl: 16px;

  /* é˜´å½± */
  --shadow-sm: 0 1px 2px var(--shadow-base);
  --shadow: 0 4px 6px var(--shadow-base);
  --shadow-lg: 0 10px 15px var(--shadow-base);

  /* æ˜ å°„åˆ°åŸæœ‰å˜é‡åï¼ˆä¿æŒå…¼å®¹æ€§ï¼‰ */
  --primary-color: var(--color-primary);
  --primary-hover: var(--color-primary-hover);
  --primary-light: var(--color-primary-light);
  --bg-primary: var(--color-bg);
  --bg-secondary: var(--color-bg-secondary);
  --bg-tertiary: var(--color-bg-tertiary);
  --bg-card: var(--color-bg);
  --text-primary: var(--color-text);
  --text-secondary: var(--color-text-secondary);
  --text-tertiary: var(--color-text-tertiary);
  --text-placeholder: var(--color-text-placeholder);
  --border-color: var(--color-border);
  --border-light: var(--color-bg-secondary);
  --divider: var(--color-border);
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow);
  --shadow-lg: var(--shadow-lg);

  /* Quill ç¼–è¾‘å™¨ */
  --ql-bg: var(--color-bg);
  --ql-toolbar: var(--color-bg-secondary);
  --ql-border: var(--color-border);
  --ql-text: var(--color-text);

  /* é—´è·æ˜ å°„ */
  --spacing-xs: var(--space-xs);
  --spacing-sm: var(--space-sm);
  --spacing-md: var(--space-md);
  --spacing-lg: var(--space-lg);
  --spacing-xl: var(--space-xl);
  --spacing-2xl: var(--space-2xl);

  /* åœ†è§’æ˜ å°„ */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}

/* å…¨å±€æ ·å¼ */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family);
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
  line-height: 1.6;
}

/* ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */
.theme-toggle {
  position: fixed;
  top: var(--spacing-lg);
  right: var(--spacing-lg);
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
  z-index: 1000;
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: 14px;
  color: var(--text-primary);
}

.theme-toggle:hover {
  background: var(--bg-tertiary);
  box-shadow: var(--shadow-md);
}

.theme-toggle.loading {
  opacity: 0.7;
  cursor: not-allowed;
}

.theme-toggle-icon {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--primary-color);
  transition: all 0.3s ease;
}

/* ä¼˜åŒ–ï¼šåŠ è½½åŠ¨ç”» */
.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* åŠ è½½è¦†ç›–å±‚ */
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.loading-overlay.active {
  opacity: 1;
  visibility: visible;
}

.loading-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--color-bg-secondary);
  border-top: 4px solid var(--primary-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.loading-text {
  margin-top: var(--spacing-lg);
  color: var(--text-primary);
  font-size: 16px;
}

/* ä¸»å®¹å™¨ */
#app {
  max-width: 960px;
  margin: 0 auto;
  padding: var(--spacing-2xl) var(--spacing-lg);
  min-height: 100vh;
}

/* å¡ç‰‡æ ·å¼ */
.card {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
  transition: all 0.3s ease;
}

.card:hover {
  box-shadow: var(--shadow-lg);
}

/* æ ‡é¢˜æ ·å¼ */
.title {
  font-size: 28px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--spacing-lg);
  line-height: 1.3;
}

.subtitle {
  font-size: 20px;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: var(--spacing-md);
  line-height: 1.4;
}

/* ä½œä¸šè§„åˆ™åŒºåŸŸ */
.rules-section {
  background: var(--primary-light);
  border-left: 4px solid var(--primary-color);
  padding: var(--spacing-lg);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-xl);
}

.rules-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--spacing-sm);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.rules-icon {
  width: 20px;
  height: 20px;
  background: var(--primary-color);
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  color: white;
}

.rules-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.rules-list li {
  padding: var(--spacing-xs) 0;
  color: var(--text-secondary);
  font-size: 14px;
  position: relative;
  padding-left: var(--spacing-md);
}

.rules-list li:before {
  content: "â€¢";
  color: var(--primary-color);
  position: absolute;
  left: 0;
  font-weight: bold;
}

/* é¢˜ç›®åŒºåŸŸ */
.question-section {
  margin-bottom: var(--spacing-xl);
}

.question-header {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
}

.question-number {
  background: var(--primary-color);
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 16px;
  flex-shrink: 0;
}

.question-title {
  font-size: 18px;
  font-weight: 500;
  color: var(--text-primary);
  line-height: 1.5;
  flex: 1;
}

/* Quill ç¼–è¾‘å™¨å®¹å™¨ */
.editor-container {
  margin-top: var(--spacing-md);
}

.editor-placeholder {
  color: var(--text-placeholder);
  font-style: italic;
}

/* Quill ç¼–è¾‘å™¨è‡ªå®šä¹‰æ ·å¼ */
.ql-container {
  font-family: var(--font-family);
  font-size: 16px;
  background: var(--ql-bg);
  border: 1px solid var(--ql-border);
  border-radius: var(--radius-md);
  transition: all 0.3s ease;
}

.ql-toolbar {
  background: var(--ql-toolbar);
  border: 1px solid var(--ql-border);
  border-bottom: none;
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  padding: var(--spacing-sm);
  transition: all 0.3s ease;
}

.ql-toolbar .ql-formats {
  margin-right: var(--spacing-sm);
}

.ql-toolbar button {
  color: var(--text-secondary);
  transition: color 0.2s ease;
}

.ql-toolbar button:hover,
.ql-toolbar button.ql-active {
  color: var(--primary-color) !important;
}

.ql-toolbar button.ql-active {
  background: var(--primary-light);
  border-radius: var(--radius-sm);
}

.ql-editor {
  min-height: 200px;
  color: var(--ql-text);
  padding: var(--spacing-lg);
  transition: all 0.3s ease;
}

.ql-editor.ql-blank:before {
  color: var(--text-placeholder);
  font-style: italic;
  left: var(--spacing-lg);
  right: var(--spacing-lg);
}

/* Markdown æç¤ºåŒºåŸŸ */
.markdown-hint {
  margin-top: var(--spacing-sm);
  padding: var(--spacing-sm);
  background: var(--bg-tertiary);
  border-radius: var(--radius-sm);
  font-size: 12px;
  color: var(--text-tertiary);
  text-align: center;
  transition: all 0.3s ease;
}

/* æŒ‰é’®æ ·å¼ */
.button-group {
  display: flex;
  gap: var(--spacing-md);
  justify-content: flex-end;
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-lg);
  border-top: 1px solid var(--divider);
}

.btn {
  padding: var(--spacing-sm) var(--spacing-xl);
  border-radius: var(--radius-md);
  font-size: 16px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.btn-primary {
  background: var(--primary-color);
  color: white;
}

.btn-primary:hover {
  background: var(--primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
}

.btn-secondary:hover {
  background: var(--bg-secondary);
  border-color: var(--border-color);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

/* åŠ è½½çŠ¶æ€ */
.loading {
  opacity: 0.6;
  pointer-events: none;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  #app {
    padding: var(--spacing-lg) var(--spacing-md);
  }

  .theme-toggle {
    top: var(--spacing-md);
    right: var(--spacing-md);
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 12px;
  }

  .card {
    padding: var(--spacing-lg);
  }

  .title {
    font-size: 24px;
  }

  .subtitle {
    font-size: 18px;
  }

  .question-title {
    font-size: 16px;
  }

  .button-group {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 480px) {
  #app {
    padding: var(--spacing-md);
  }

  .card {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
  }

  .title {
    font-size: 20px;
  }

  .rules-section {
    padding: var(--spacing-md);
  }

  .ql-editor {
    min-height: 150px;
    padding: var(--spacing-md);
  }
}

/* åŠ¨ç”»æ•ˆæœ */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card {
  animation: fadeIn 0.5s ease-out;
}

/* é«˜äº®æ•ˆæœ */
.highlight {
  background: linear-gradient(120deg, var(--primary-light) 0%, var(--primary-light) 100%);
  background-repeat: no-repeat;
  background-size: 100% 40%;
  background-position: 0 60%;
  padding: 2px 4px;
  border-radius: 2px;
}

[data-theme="dark"] .highlight {
  background: linear-gradient(120deg, var(--primary-light) 0%, var(--primary-light) 100%);
  background-repeat: no-repeat;
  background-size: 100% 40%;
  background-position: 0 60%;
}
</style>
<script>
(function() {
    var isUnsupported = false;
    var userAgent = navigator.userAgent;
    // åˆ¤æ–­æ˜¯å¦ä¸º IE 10 ä»¥ä¸‹æµè§ˆå™¨
    if (
        userAgent.indexOf("compatible") > -1 &&
        userAgent.indexOf("MSIE") > -1
    ) {
        var reIE = new RegExp("MSIE (\\d+\\.\\d+);");
        reIE.test(userAgent);
        var fIEVersion = parseFloat(RegExp["$1"]);
        if (fIEVersion < 10) isUnsupported = true;
    }
    if (isUnsupported) {
        window.onload = function() {
            document.write('æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œè¯·å‡çº§è‡³ IE 10 (å«)ä»¥ä¸Šç‰ˆæœ¬è®¿é—®æœ¬ç«™ã€‚');
        };
    }
})();
</script>
<script>
(function () {
    if (typeof WeixinJSBridge == "object" && typeof WeixinJSBridge.invoke == "function") {
        handleFontSize();
    } else {
        if (document.addEventListener) {
            document.addEventListener("WeixinJSBridgeReady", handleFontSize, false);
        } else if (document.attachEvent) {
            document.attachEvent("WeixinJSBridgeReady", handleFontSize);
            document.attachEvent("onWeixinJSBridgeReady", handleFontSize);
        }
    }

    function handleFontSize() {
        // è®¾ç½®ç½‘é¡µå­—ä½“ä¸ºé»˜è®¤å¤§å°
        WeixinJSBridge.invoke('setFontSizeCallback', {
            'fontSize': 0
        });
        // é‡å†™è®¾ç½®ç½‘é¡µå­—ä½“å¤§å°çš„äº‹ä»¶
        WeixinJSBridge.on('menu:setfont', function () {
            WeixinJSBridge.invoke('setFontSizeCallback', {
            'fontSize': 0
            });
        });
    }
})();
</script>
<script>var _hmt = _hmt || [];</script>

<!-- ç«å±±å¼€å§‹ -->
<script>
    (function(win, export_obj) {
        win['TeaAnalyticsObject'] = export_obj;
        if (!win[export_obj]) {
            function _collect() {
                _collect.q.push(arguments);
            }
            _collect.q = _collect.q || [];
            win[export_obj] = _collect;
        }
        win[export_obj].l = +new Date();
    })(window, 'collectEvent');
</script>

<script async src="https://sf1-scmcdn-tos.pstatp.com/goofy/log-sdk/collect/collect-autotrack-rangers.js"></script>

<script>
        window.collectEvent('init', {
           app_id:230580,
            channel: 'cn',
           autotrack: false  //é»˜è®¤å…³é—­ï¼Œéœ€è¦çƒ­åŠ›å›¾åŠåœˆé€‰åŠŸèƒ½å¯å¼€å¯
        });
        window.collectEvent('start')
</script>
<!-- ç«å±±ç»“æŸ -->
</head>

<body>
<!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
<button class="theme-toggle" id="themeToggle">
  <span class="theme-toggle-icon"></span>
  <span class="theme-text">åˆ‡æ¢ä¸»é¢˜</span>
</button>

<!-- ä¼˜åŒ–ï¼šåŠ è½½è¦†ç›–å±‚ -->
<div class="loading-overlay" id="loadingOverlay">
  <div>
    <div class="loading-spinner"></div>
    <div class="loading-text">å¤„ç†ä¸­...</div>
  </div>
</div>

<div id="app">
  <!-- æ ‡é¢˜åŒºåŸŸ -->
  <div class="card">
    <h1 class="title">ä¸€å ‚ä½œä¸šç³»ç»Ÿ</h1>
  </div>

  <!-- ä½œä¸šè§„åˆ™åŒºåŸŸ -->
  <div class="card rules-section">
    <div class="rules-title">
      <span class="rules-icon">!</span>
      <span>ä½œä¸šè§„åˆ™</span>
    </div>
    <ul class="rules-list">
      <li>è¯·è®¤çœŸé˜…è¯»æ¯é“é¢˜ç›®ï¼ŒæŒ‰è¦æ±‚å®Œæˆä½œä¸š</li>
      <li>æ”¯æŒ Markdown æ ¼å¼è¾“å…¥ï¼šæ ‡é¢˜ï¼ˆ# æ ‡é¢˜ï¼‰ã€ç²—ä½“ï¼ˆ**æ–‡æœ¬**ï¼‰ã€æ–œä½“ï¼ˆ*æ–‡æœ¬*ï¼‰</li>
      <li>æ”¯æŒåˆ—è¡¨æ ¼å¼ï¼šæ•°å­—åºå·æˆ–ç¬¦å·ï¼ˆ- æˆ– *ï¼‰å¼€å¤´</li>
      <li>å¯éšæ—¶ä¿å­˜è‰ç¨¿ï¼Œç¡®ä¿ä½œä¸šä¸ä¸¢å¤±</li>
      <li>å®Œæˆåè¯·ç‚¹å‡»æäº¤æŒ‰é’®</li>
    </ul>
  </div>

  <!-- é¢˜ç›®1 -->
  <div class="card question-section">
    <div class="question-header">
      <span class="question-number">1</span>
      <h2 class="question-title">è¯·æè¿°ä½ å¯¹åˆ›ä¸šçš„ç†è§£ï¼Œä»¥åŠä½ å¸Œæœ›åœ¨åˆ›ä¸šè¿‡ç¨‹ä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ</h2>
    </div>
    <div class="editor-container">
      <div id="editor1"></div>
      <div class="markdown-hint">
        æç¤ºï¼šæ”¯æŒ Markdown è¯­æ³•ï¼Œå¦‚ **ç²—ä½“**ã€*æ–œä½“*ã€# æ ‡é¢˜ã€- åˆ—è¡¨ç­‰
      </div>
    </div>
  </div>

  <!-- é¢˜ç›®2 -->
  <div class="card question-section">
    <div class="question-header">
      <span class="question-number">2</span>
      <h2 class="question-title">å¦‚æœä½ æœ‰ä¸€ä¸ªåˆ›ä¸šæƒ³æ³•ï¼Œè¯·ç®€è¿°è¿™ä¸ªæƒ³æ³•çš„æ ¸å¿ƒä»·å€¼ä¸»å¼ ã€‚</h2>
    </div>
    <div class="editor-container">
      <div id="editor2"></div>
      <div class="markdown-hint">
        æç¤ºï¼šæ”¯æŒ Markdown è¯­æ³•ï¼Œå¦‚ **ç²—ä½“**ã€*æ–œä½“*ã€# æ ‡é¢˜ã€- åˆ—è¡¨ç­‰
      </div>
    </div>
  </div>

  <!-- é¢˜ç›®3 -->
  <div class="card question-section">
    <div class="question-header">
      <span class="question-number">3</span>
      <h2 class="question-title">ä½ è®¤ä¸ºåœ¨åˆ›ä¸šè¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„ä¸‰ä¸ªå› ç´ æ˜¯ä»€ä¹ˆï¼Ÿè¯·è¯´æ˜åŸå› ã€‚</h2>
    </div>
    <div class="editor-container">
      <div id="editor3"></div>
      <div class="markdown-hint">
        æç¤ºï¼šæ”¯æŒ Markdown è¯­æ³•ï¼Œå¦‚ **ç²—ä½“**ã€*æ–œä½“*ã€# æ ‡é¢˜ã€- åˆ—è¡¨ç­‰
      </div>
    </div>
  </div>

  <!-- æŒ‰é’®ç»„ -->
  <div class="card">
    <div class="button-group">
      <button class="btn btn-secondary" id="saveBtn">
        <span>ğŸ’¾</span>
        <span>æš‚å­˜è‰ç¨¿</span>
      </button>
      <button class="btn btn-primary" id="submitBtn">
        <span>ğŸ“¤</span>
        <span>æäº¤ä½œä¸š</span>
      </button>
    </div>
  </div>
</div>

<script>
// Vue åº”ç”¨é€»è¾‘
// æ¨¡æ‹Ÿä½œä¸šæ•°æ®
const homeworkData = {
  title: "ä¸€å ‚ä½œä¸šç³»ç»Ÿ",
  rules: [
    "è¯·è®¤çœŸé˜…è¯»æ¯é“é¢˜ç›®ï¼ŒæŒ‰è¦æ±‚å®Œæˆä½œä¸š",
    "æ”¯æŒ Markdown æ ¼å¼è¾“å…¥ï¼šæ ‡é¢˜ï¼ˆ# æ ‡é¢˜ï¼‰ã€ç²—ä½“ï¼ˆ**æ–‡æœ¬**ï¼‰ã€æ–œä½“ï¼ˆ*æ–‡æœ¬*ï¼‰",
    "æ”¯æŒåˆ—è¡¨æ ¼å¼ï¼šæ•°å­—åºå·æˆ–ç¬¦å·ï¼ˆ- æˆ– *ï¼‰å¼€å¤´",
    "å¯éšæ—¶ä¿å­˜è‰ç¨¿ï¼Œç¡®ä¿ä½œä¸šä¸ä¸¢å¤±",
    "å®Œæˆåè¯·ç‚¹å‡»æäº¤æŒ‰é’®"
  ],
  questions: [
    {
      id: 1,
      title: "è¯·æè¿°ä½ å¯¹åˆ›ä¸šçš„ç†è§£ï¼Œä»¥åŠä½ å¸Œæœ›åœ¨åˆ›ä¸šè¿‡ç¨‹ä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ",
      content: ""
    },
    {
      id: 2,
      title: "å¦‚æœä½ æœ‰ä¸€ä¸ªåˆ›ä¸šæƒ³æ³•ï¼Œè¯·ç®€è¿°è¿™ä¸ªæƒ³æ³•çš„æ ¸å¿ƒä»·å€¼ä¸»å¼ ã€‚",
      content: ""
    },
    {
      id: 3,
      title: "ä½ è®¤ä¸ºåœ¨åˆ›ä¸šè¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„ä¸‰ä¸ªå› ç´ æ˜¯ä»€ä¹ˆï¼Ÿè¯·è¯´æ˜åŸå› ã€‚",
      content: ""
    }
  ]
};

// ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
class ThemeManager {
  constructor() {
    this.currentTheme = this.getStoredTheme() || this.detectSystemTheme();
    this.init();
  }

  // ä¼˜åŒ–ï¼šå®‰å…¨çš„localStorageæ“ä½œ
  getStoredTheme() {
    try {
      return localStorage.getItem('theme');
    } catch (e) {
      console.warn('æ— æ³•è®¿é—®localStorage:', e);
      return null;
    }
  }

  detectSystemTheme() {
    try {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    } catch (e) {
      console.warn('æ— æ³•æ£€æµ‹ç³»ç»Ÿä¸»é¢˜:', e);
      return 'light'; // é»˜è®¤è¿”å›äº®è‰²ä¸»é¢˜
    }
  }

  init() {
    this.applyTheme(this.currentTheme);
    this.bindEvents();
  }

  applyTheme(theme) {
    try {
      // ä¼˜åŒ–ï¼šæ·»åŠ åŠ è½½çŠ¶æ€
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = document.querySelector('.theme-toggle-icon');

      if (themeToggle) {
        themeToggle.classList.add('loading');
      }
      if (themeIcon) {
        themeIcon.classList.add('spinner');
      }

      // å»¶è¿Ÿåº”ç”¨ä¸»é¢˜ä»¥æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
      setTimeout(() => {
        document.documentElement.setAttribute('data-theme', theme);
        this.currentTheme = theme;

        // å®‰å…¨çš„localStorageå†™å…¥
        try {
          localStorage.setItem('theme', theme);
        } catch (e) {
          console.warn('æ— æ³•ä¿å­˜ä¸»é¢˜è®¾ç½®:', e);
        }

        // æ›´æ–°æŒ‰é’®æ–‡æœ¬
        const themeText = document.querySelector('.theme-text');
        if (themeText) {
          themeText.textContent = theme === 'dark' ? 'äº®è‰²æ¨¡å¼' : 'æ·±è‰²æ¨¡å¼';
        }

        // ç§»é™¤åŠ è½½çŠ¶æ€
        if (themeToggle) {
          themeToggle.classList.remove('loading');
        }
        if (themeIcon) {
          themeIcon.classList.remove('spinner');
        }
      }, 300);
    } catch (e) {
      console.error('åº”ç”¨ä¸»é¢˜å¤±è´¥:', e);
      // ç¡®ä¿ç§»é™¤åŠ è½½çŠ¶æ€
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = document.querySelector('.theme-toggle-icon');
      if (themeToggle) {
        themeToggle.classList.remove('loading');
      }
      if (themeIcon) {
        themeIcon.classList.remove('spinner');
      }
    }
  }

  bindEvents() {
    const themeToggle = document.getElementById('themeToggle');
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        this.toggleTheme();
      });
    }

    // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
    try {
      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
      if (mediaQuery && typeof mediaQuery.addEventListener === 'function') {
        mediaQuery.addEventListener('change', (e) => {
          if (!this.getStoredTheme()) {
            this.applyTheme(e.matches ? 'dark' : 'light');
          }
        });
      }
    } catch (e) {
      console.warn('æ— æ³•ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–:', e);
    }
  }

  toggleTheme() {
    this.applyTheme(this.currentTheme === 'dark' ? 'light' : 'dark');
  }
}

// Markdown æ”¯æŒåŠŸèƒ½
class MarkdownSupport {
  constructor(quillInstance) {
    this.quill = quillInstance;
    this.markdownEnabled = true;
    this.init();
  }

  init() {
    this.bindTextChange();
    this.bindPaste();
    this.bindKeyboardShortcuts();
  }

  bindTextChange() {
    let debounceTimer;
    let lastText = '';

    this.quill.on('text-change', () => {
      const currentText = this.quill.getText();

      // å¦‚æœæ–‡æœ¬æ²¡æœ‰å˜åŒ–ï¼Œè·³è¿‡å¤„ç†
      if (currentText === lastText) return;
      lastText = currentText;

      clearTimeout(debounceTimer);
      debounceTimer = setTimeout(() => {
        this.processMarkdown();
      }, 150); // ä¼˜åŒ–ï¼šå‡å°‘é˜²æŠ–æ—¶é—´è‡³150msï¼Œæå‡å“åº”é€Ÿåº¦
    });
  }

  bindPaste() {
    this.quill.root.addEventListener('paste', (e) => {
      e.preventDefault();
      const text = e.clipboardData.getData('text/plain');
      const processedText = this.parseMarkdownToDelta(text);
      this.quill.updateContents(processedText, 'silent');
    });
  }

  bindKeyboardShortcuts() {
    this.quill.keyboard.addBinding({
      key: 'B',
      ctrlKey: true
    }, (range, context) => {
      this.formatText('bold');
      return false;
    });

    this.quill.keyboard.addBinding({
      key: 'I',
      ctrlKey: true
    }, (range, context) => {
      this.formatText('italic');
      return false;
    });

    this.quill.keyboard.addBinding({
      key: 'E',
      ctrlKey: true
    }, (range, context) => {
      this.formatText('code');
      return false;
    });
  }

  formatText(format) {
    const range = this.quill.getSelection();
    if (range) {
      this.quill.formatText(range.index, range.length, format, true);
    }
  }

  processMarkdown() {
    const text = this.quill.getText();
    const delta = this.parseMarkdownToDelta(text);

    // é¿å…åœ¨ç”¨æˆ·æ­£åœ¨ç¼–è¾‘æ—¶æ›´æ–°
    if (!this.isEditing()) {
      this.quill.setContents(delta, 'silent');
    }
  }

  isEditing() {
    const selection = this.quill.getSelection();
    return selection && selection.length > 0;
  }

  parseMarkdownToDelta(text) {
    const lines = text.split('\n');
    let delta = { ops: [] };

    lines.forEach((line, index) => {
      // å¤„ç†æ ‡é¢˜
      if (line.startsWith('# ')) {
        delta.ops.push({ insert: line.substring(2) + '\n', attributes: { header: 1 } });
      } else if (line.startsWith('## ')) {
        delta.ops.push({ insert: line.substring(3) + '\n', attributes: { header: 2 } });
      }
      // å¤„ç†ç²—ä½“
      else if (line.includes('**')) {
        const parts = line.split('**');
        parts.forEach((part, i) => {
          if (i % 2 === 1) {
            delta.ops.push({ insert: part, attributes: { bold: true } });
          } else if (part) {
            delta.ops.push({ insert: part });
          }
        });
        delta.ops.push({ insert: '\n' });
      }
      // å¤„ç†æ–œä½“
      else if (line.includes('*') && !line.includes('**')) {
        const parts = line.split('*');
        parts.forEach((part, i) => {
          if (i % 2 === 1) {
            delta.ops.push({ insert: part, attributes: { italic: true } });
          } else if (part) {
            delta.ops.push({ insert: part });
          }
        });
        delta.ops.push({ insert: '\n' });
      }
      // å¤„ç†åˆ—è¡¨
      else if (line.match(/^(\d+)\. /)) {
        const match = line.match(/^(\d+)\. (.+)/);
        if (match) {
          delta.ops.push({ insert: match[2] + '\n', attributes: { list: 'ordered' } });
        }
      } else if (line.startsWith('- ') || line.startsWith('* ')) {
        delta.ops.push({ insert: line.substring(2) + '\n', attributes: { list: 'bullet' } });
      }
      // æ™®é€šæ–‡æœ¬
      else {
        delta.ops.push({ insert: line + '\n' });
      }
    });

    return delta;
  }
}

// ä½œä¸šç®¡ç†å™¨
class HomeworkManager {
  constructor() {
    this.editors = {};
    this.data = { ...homeworkData };
    this.init();
  }

  init() {
    this.createEditors();
    this.bindEvents();
    this.loadDraft();
  }

  createEditors() {
    // åˆ›å»ºç¼–è¾‘å™¨å®ä¾‹
    const editorConfigs = {
      theme: 'snow',
      placeholder: 'è¯·è¾“å…¥ä½ çš„ç­”æ¡ˆ...',
      modules: {
        toolbar: [
          [{ 'header': [1, 2, 3, false] }],
          ['bold', 'italic', 'underline', 'code'],
          [{ 'list': 'ordered'}, { 'list': 'bullet' }],
          ['clean']
        ]
      }
    };

    this.data.questions.forEach((question, index) => {
      const editorId = `editor${question.id}`;
      const editorElement = document.getElementById(editorId);

      if (editorElement) {
        const quill = new Quill(editorElement, editorConfigs);
        this.editors[question.id] = {
          quill: quill,
          markdown: new MarkdownSupport(quill)
        };

        // è®¾ç½®å†…å®¹
        if (question.content) {
          quill.root.innerHTML = question.content;
        }
      }
    });
  }

  bindEvents() {
    // æš‚å­˜æŒ‰é’®
    const saveBtn = document.getElementById('saveBtn');
    if (saveBtn) {
      saveBtn.addEventListener('click', () => {
        this.saveDraft();
      });
    }

    // æäº¤æŒ‰é’®
    const submitBtn = document.getElementById('submitBtn');
    if (submitBtn) {
      submitBtn.addEventListener('click', () => {
        this.submit();
      });
    }

    // è‡ªåŠ¨ä¿å­˜
    setInterval(() => {
      this.autoSave();
    }, 30000); // æ¯30ç§’è‡ªåŠ¨ä¿å­˜
  }

  getContent() {
    const content = {};
    this.data.questions.forEach(question => {
      const editor = this.editors[question.id];
      if (editor) {
        content[question.id] = editor.quill.root.innerHTML;
      }
    });
    return content;
  }

  // ä¼˜åŒ–ï¼šå¢å¼ºé”™è¯¯å¤„ç†æœºåˆ¶
  saveDraft() {
    try {
      const content = this.getContent();
      const draftData = {
        timestamp: Date.now(),
        content: content
      };

      localStorage.setItem('homework_draft', JSON.stringify(draftData));
      this.showNotification('è‰ç¨¿å·²ä¿å­˜', 'success');
    } catch (e) {
      console.error('ä¿å­˜è‰ç¨¿å¤±è´¥:', e);
      this.showNotification('ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®', 'error');
    }
  }

  loadDraft() {
    try {
      const draft = localStorage.getItem('homework_draft');
      if (!draft) return;

      const draftData = JSON.parse(draft);

      // æ£€æŸ¥è‰ç¨¿æ˜¯å¦è¿‡æœŸï¼ˆè¶…è¿‡7å¤©ï¼‰
      const maxAge = 7 * 24 * 60 * 60 * 1000; // 7å¤©
      if (Date.now() - draftData.timestamp > maxAge) {
        localStorage.removeItem('homework_draft');
        this.showNotification('è‰ç¨¿å·²è¿‡æœŸ', 'info');
        return;
      }

      // è¯¢é—®ç”¨æˆ·æ˜¯å¦æ¢å¤è‰ç¨¿
      if (confirm('æ£€æµ‹åˆ°æœªä¿å­˜çš„è‰ç¨¿ï¼Œæ˜¯å¦æ¢å¤ï¼Ÿ')) {
        this.data.questions.forEach(question => {
          const editor = this.editors[question.id];
          if (editor && draftData.content[question.id]) {
            try {
              editor.quill.root.innerHTML = draftData.content[question.id];
            } catch (e) {
              console.error(`æ¢å¤é¢˜ç›®${question.id}å¤±è´¥:`, e);
            }
          }
        });
        this.showNotification('è‰ç¨¿å·²æ¢å¤', 'info');
      }
    } catch (e) {
      console.error('åŠ è½½è‰ç¨¿å¤±è´¥:', e);
      // æ¸…ç†æŸåçš„è‰ç¨¿æ•°æ®
      try {
        localStorage.removeItem('homework_draft');
      } catch (cleanupError) {
        console.error('æ¸…ç†è‰ç¨¿å¤±è´¥:', cleanupError);
      }
      this.showNotification('è‰ç¨¿åŠ è½½å¤±è´¥', 'error');
    }
  }

  autoSave() {
    this.saveDraft();
  }

  submit() {
    // éªŒè¯æ‰€æœ‰é¢˜ç›®éƒ½å·²å¡«å†™
    let allAnswered = true;
    this.data.questions.forEach(question => {
      const editor = this.editors[question.id];
      if (editor && !editor.quill.getText().trim()) {
        allAnswered = false;
      }
    });

    if (!allAnswered) {
      if (!confirm('è¿˜æœ‰é¢˜ç›®æœªå®Œæˆï¼Œç¡®å®šè¦æäº¤å—ï¼Ÿ')) {
        return;
      }
    }

    // æ”¶é›†ç­”æ¡ˆ
    const answers = this.getContent();

    // ä¼˜åŒ–ï¼šæ˜¾ç¤ºåŠ è½½è¦†ç›–å±‚
    const loadingOverlay = document.getElementById('loadingOverlay');
    if (loadingOverlay) {
      loadingOverlay.classList.add('active');
    }

    // æ¨¡æ‹Ÿæäº¤
    const submitBtn = document.getElementById('submitBtn');
    if (submitBtn) {
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span>â³</span><span>æäº¤ä¸­...</span>';
    }

    setTimeout(() => {
      try {
        // æ¸…é™¤è‰ç¨¿
        localStorage.removeItem('homework_draft');

        this.showNotification('ä½œä¸šæäº¤æˆåŠŸï¼', 'success');

        console.log('æäº¤çš„ç­”æ¡ˆ:', answers);
      } catch (e) {
        console.error('æäº¤å¤±è´¥:', e);
        this.showNotification('æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•', 'error');
      } finally {
        // éšè—åŠ è½½è¦†ç›–å±‚
        if (loadingOverlay) {
          loadingOverlay.classList.remove('active');
        }

        if (submitBtn) {
          submitBtn.classList.remove('loading');
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<span>ğŸ“¤</span><span>æäº¤ä½œä¸š</span>';
        }
      }
    }, 2000);
  }

  showNotification(message, type = 'info') {
    // åˆ›å»ºé€šçŸ¥å…ƒç´ 
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      z-index: 10000;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    `;

    // è®¾ç½®èƒŒæ™¯è‰²
    switch (type) {
      case 'success':
        notification.style.background = '#4caf50';
        break;
      case 'error':
        notification.style.background = '#f44336';
        break;
      default:
        notification.style.background = '#2196f3';
    }

    document.body.appendChild(notification);

    // 3ç§’åè‡ªåŠ¨æ¶ˆå¤±
    setTimeout(() => {
      notification.style.opacity = '0';
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 3000);
  }
}

// åˆå§‹åŒ–åº”ç”¨
document.addEventListener('DOMContentLoaded', () => {
  // åˆå§‹åŒ–ä¸»é¢˜ç®¡ç†å™¨
  const themeManager = new ThemeManager();

  // åˆå§‹åŒ–ä½œä¸šç®¡ç†å™¨
  const homeworkManager = new HomeworkManager();

  console.log('ä½œä¸šç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ');
});
</script>

<script src="https://cdn.yitang.top/yitang/prod/chunk-babel-96c1f1607e-20251219115912.js"></script>
<script src="https://cdn.yitang.top/yitang/prod/chunk-libs-c58599daee-20251219115912.js"></script>
<script src="https://cdn.yitang.top/yitang/prod/chunk-lodash-ae272d1656-20251219115912.js"></script>
<script src="https://cdn.yitang.top/yitang/prod/chunk-vue-b9819803cb-20251219115912.js"></script>
<script src="https://cdn.yitang.top/yitang/prod/main-102fe4208a.js"></script>
</body>
</html>